(()=>{"use strict";var e={341:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(492),r=o(n(920)),l=o(n(278));function*i(e){const t=new RegExp(/\r?\n/,"g");let n,o;for(;o=t.lastIndex,n=t.exec(e);)yield e.slice(o,n.index);yield e.slice(o)}const u=new s.Transform({objectMode:!0,transform:async function(e,t,n){try{if(null!==e.contents){const t=e.contents.toString(),n=new l.default;let o="";[...i(t)].forEach((e=>{o+=n.trim(e)})),o=await r.default.format(o,{parser:"json"}),e.contents=Buffer.from(o)}n(null,e)}catch(e){n(e)}}});t.default=u},278:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.lookForClosed=-1}init(e){this.line=e,this.length=e.length,this.indexes=this.getQuotesIndexes(e)}getQuotesIndexes(e){const t=new RegExp(/"/,"g"),n=[];let o;for(;o=t.exec(e);)n.push(o.index);return n}isNotBetweenQuotes(e,t){for(const[n,o]of e.entries())if(o>t)return(n+n+3)%4==3;return!0}getDoubleSlashCommentIndex(e){const t=new RegExp(/\/\//,"g"),n=[];let o;for(;o=t.exec(e);){const e=o.index;if(this.isNotBetweenQuotes(this.indexes,e)){n.push([e,this.length]);break}}return n}getMultiCommentIndexes(e){const t=new RegExp(/\/\*/,"g"),n=new RegExp(/\*\//,"g"),o=[];return this.lookForClosed>-1?null===n.exec(e)?o.push([0,this.length]):(this.lookForClosed=-1,o.push([0,n.lastIndex]),t.lastIndex=n.lastIndex,o.push(...this.getMultiCommentIndexesWithoutLookForClosed(e,t,n))):o.push(...this.getMultiCommentIndexesWithoutLookForClosed(e,t,n)),o}getMultiCommentIndexesWithoutLookForClosed(e,t,n){const o=[];let s;for(;s=t.exec(e);){const r=s.index;if(this.isNotBetweenQuotes(this.indexes,r)){if(n.lastIndex=t.lastIndex,null===n.exec(e)){this.lookForClosed=r,o.push([r,this.length]);break}o.push([r,n.lastIndex]),t.lastIndex=n.lastIndex}}return o}mergeDoubleSlashCommentAndMultiComments(e,t){if(0===e.length&&0===t.length)return[];if(e.length>0&&0===t.length)return e;if(0===e.length&&t.length>0)return t;const[n]=e[0];let o=t.flat().concat(n).sort(((e,t)=>e-t));const s=o.indexOf(n);if(s%2==1)return t;{n<this.lookForClosed&&(this.lookForClosed=-1),o=o.slice(0,s+1).concat(this.length);const e=[];for(let t=0;t<o.length;t+=2){const n=[];for(let e=t;e<t+2;e++)n.push(o[e]);e.push(n)}return e}}trim(e){this.init(e);const t=this.getDoubleSlashCommentIndex(e),n=this.getMultiCommentIndexes(e),o=this.mergeDoubleSlashCommentAndMultiComments(t,n);if(0===o.length)return e;let s=0,r="";return o.forEach((([t,n])=>{r+=e.slice(s,t),s=n})),r+=e.slice(s,this.length),r}reset(){this.lookForClosed=-1,this.init("")}}},920:e=>{e.exports=require("prettier")},492:e=>{e.exports=require("node:stream")}},t={},n=function n(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}(341),o=exports;for(var s in n)o[s]=n[s];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();