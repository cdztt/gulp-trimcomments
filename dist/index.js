(()=>{"use strict";var e={341:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(492),r=s(n(920)),l=s(n(278));function*i(e){const t=new RegExp(/\r?\n/,"g");let n,s;for(;s=t.lastIndex,n=t.exec(e);)yield e.slice(s,n.index);yield e.slice(s)}const u=new o.Transform({objectMode:!0,transform:async function(e,t,n){try{if(null!==e.contents){const t=e.contents.toString(),n=new l.default;let s="";[...i(t)].forEach((e=>{s+=n.trim(e)})),s=await r.default.format(s,{parser:"json"}),e.contents=Buffer.from(s)}n(null,e)}catch(e){n(e)}}});t.default=u},278:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.lookForClosed=-1}init(e){this.line=e,this.length=e.length,this.indexes=this.getQuotesIndexes(e)}getQuotesIndexes(e){const t=new RegExp(/"/,"g"),n=[];let s;for(;s=t.exec(e);)n.push(s.index);return n}isNotBetweenQuotes(e,t){for(const[n,s]of e.entries())if(s>t)return(n+n+3)%4==3;return!0}getDoubleSlashCommentIndex(e){const t=new RegExp(/\/\//,"g"),n=[];let s;for(;s=t.exec(e);){const e=s.index;if(this.isNotBetweenQuotes(this.indexes,e)){n.push([e,this.length]);break}}return n}getMultiCommentIndexes(e){const t=new RegExp(/\/\*/,"g"),n=new RegExp(/\*\//,"g"),s=[];return this.lookForClosed>-1?null===n.exec(e)?s.push([0,this.length]):(this.lookForClosed=-1,s.push([0,n.lastIndex]),t.lastIndex=n.lastIndex,s.push(...this.getMultiCommentIndexesWithoutLookForClosed(e,t,n))):s.push(...this.getMultiCommentIndexesWithoutLookForClosed(e,t,n)),s}getMultiCommentIndexesWithoutLookForClosed(e,t,n){const s=[];let o;for(;o=t.exec(e);){const r=o.index;if(this.isNotBetweenQuotes(this.indexes,r)){if(n.lastIndex=t.lastIndex,null===n.exec(e)){this.lookForClosed=r,s.push([r,this.length]);break}s.push([r,n.lastIndex]),t.lastIndex=n.lastIndex}}return s}mergeDoubleSlashCommentAndMultiComments(e,t){if(0===e.length&&0===t.length)return[];if(e.length>0&&0===t.length)return e;if(0===e.length&&t.length>0)return t;const[n]=e[0];let s=t.flat().concat(n).sort(((e,t)=>e-t));const o=s.indexOf(n);if(o%2==1)return t;{n<this.lookForClosed&&(this.lookForClosed=-1),s=s.slice(0,o+1).concat(this.length);const e=[];for(let t=0;t<s.length;t+=2){const n=[];for(let e=t;e<t+2;e++)n.push(s[e]);e.push(n)}return e}}trim(e){this.init(e);const t=this.getDoubleSlashCommentIndex(e),n=this.getMultiCommentIndexes(e),s=this.mergeDoubleSlashCommentAndMultiComments(t,n);if(0===s.length)return e;let o=0,r="";return s.forEach((([t,n])=>{r+=e.slice(o,t),o=n})),r+=e.slice(o,this.length),r}reset(){this.lookForClosed=-1,this.init("")}}},920:e=>{e.exports=require("prettier")},492:e=>{e.exports=require("node:stream")}},t={};!function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,n),r.exports}(341)})();